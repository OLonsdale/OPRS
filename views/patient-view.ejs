<% if (patient) { %>

<table class="table">
  <tr>
    <td>ID</td>
    <td><%= patient._id %></td>
  </tr>
  <tr>
    <td>First Name</td>
    <td><%= patient.firstName %></td>
  </tr>
  <tr>
    <td>Middle Name</td>
    <td><%= patient.middleName %></td>
  </tr>
  <tr>
    <td>Last Name</td>
    <td><%= patient.lastName %></td>
  </tr>
  <tr>
    <td>Gender</td>
    <td><%= patient.gender %></td>
  </tr>
  <tr>
    <td>Date of Birth</td>
    <td><%= patient.dateOfBirth %></td>
  </tr>
  <tr>
    <td>Email</td>
    <td><%= patient.email %></td>
  </tr>
  <tr>
    <td>NHS Number</td>
    <td><%= patient.NHSNumber %></td>
  </tr>
  <tr>
    <td>Patient Type</td>
    <td><%= patient.patientType %></td>
  </tr>
  <tr>
    <td>Date Added</td>
    <td><%= patient.dateAdded.toLocaleDateString('en-GB') %></td>
  </tr>
</table>


<a href="/add-exam/<%= patient.id %>" class="btn btn-primary mb-3"> Add Exam</a>

<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="thead-dark">
      <tr class="table-dark">
        <th>Exam Date</th>
        <th>Optometrist</th>
        <th>Exam ID</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% exams.forEach(exam => { %>
        <tr>
          <td><%= exam.dateOfVisit.toLocaleDateString('en-GB') %></td>
          <td><%= optoms.find(optom => optom._id == exam.performingOptometrist).name %></td>
          <td><%= exam.id %></td>
          <td> <a type="button" class="btn btn-secondary btn-sm" href="/view-exam/<%= exam.id %>" > View </a> </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>


<% } else { %>

    <h1>No patient selected</h1>

<% } %>
 
